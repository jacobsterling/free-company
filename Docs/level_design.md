# Level Design

## Overview

The level design system in Free Company creates diverse and challenging environments that complement the game's mechanics and narrative. Each dungeon type has unique characteristics, enemy types, environmental hazards, and rewards that encourage exploration and strategic gameplay.

## Dungeon Types

### 1. Abandoned Mines
- **Theme**: Dark, claustrophobic tunnels with wooden supports
- **Lighting**: Very dark, requires light sources
- **Environmental Hazards**: 
  - Collapsing ceilings
  - Unstable wooden platforms
  - Deep pits
  - Toxic gas pockets
- **Enemy Types**:
  - Goblin miners
  - Cave trolls
  - Giant spiders
  - Rock elementals
- **Boss**: The Cave Lord (Rock elemental/Beast hybrid)
- **Special Loot**:
  - Rare minerals
  - Mining equipment
  - Ancient mining maps
- **Unique Mechanics**:
  - Mining for resources
  - Support beam destruction
  - Gas mask requirement
  - Limited visibility

### 2. Ancient Catacombs
- **Theme**: Undead-infested burial grounds
- **Lighting**: Flickering torches, magical light sources
- **Environmental Hazards**:
  - Cursed areas
  - Soul traps
  - Animated skeletons
  - Ghostly apparitions
- **Enemy Types**:
  - Skeletons
  - Ghosts
  - Mummies
  - Necromancers
- **Boss**: The Lich King
- **Special Loot**:
  - Ancient scrolls
  - Soul gems
  - Cursed artifacts
- **Unique Mechanics**:
  - Soul collection
  - Curse cleansing
  - Ghost communication
  - Resurrection prevention

### 3. Demon Ruins
- **Theme**: Corrupted temple complex
- **Lighting**: Demonic fire, dark magic
- **Environmental Hazards**:
  - Demon portals
  - Corruption zones
  - Possession traps
  - Hellfire
- **Enemy Types**:
  - Demon cultists
  - Possessed warriors
  - Imps
  - Greater demons
- **Boss**: The Blood Priest
- **Special Loot**:
  - Demon hearts
  - Corruption essence
  - Possession artifacts
- **Unique Mechanics**:
  - Demon summoning
  - Corruption resistance
  - Portal navigation
  - Possession combat

### 4. Forest Sanctum
- **Theme**: Ancient druidic grove
- **Lighting**: Natural light, magical glow
- **Environmental Hazards**:
  - Poisonous plants
  - Animal traps
  - Weather effects
  - Entangling roots
- **Enemy Types**:
  - Dark elves
  - Corrupted animals
  - Plant monsters
  - Forest spirits
- **Boss**: The Beast Lord
- **Special Loot**:
  - Rare herbs
  - Animal parts
  - Druidic artifacts
- **Unique Mechanics**:
  - Animal companion buffs
  - Weather effects
  - Plant interaction
  - Stealth mechanics

### 5. Vampire Castle
- **Theme**: Gothic castle with blood-themed architecture
- **Lighting**: Moonlight through stained glass, blood-red torches
- **Environmental Hazards**:
  - Blood pools that heal vampires but damage humans
  - Sunlight traps that damage vampires
  - Coffin traps that can imprison players
  - Bat swarms that obscure vision
- **Enemy Types**:
  - Vampire thralls
  - Blood mages
  - Bat swarms
  - Vampire knights
- **Boss**: The Vampire Lord
- **Special Loot**:
  - Blood vials
  - Vampiric artifacts
  - Transformation scrolls
- **Unique Mechanics**:
  - Vampirism infection
  - Blood consumption
  - Sunlight vulnerability
  - Bat form transformation

## Dungeon Generation

### Room Types
1. **Combat Rooms**
   - Open spaces for fighting
   - Cover opportunities
   - Multiple entry points
   - Environmental hazards

2. **Puzzle Rooms**
   - Logic-based challenges
   - Environmental interaction
   - Resource management
   - Team coordination

3. **Trap Rooms**
   - Complex trap systems
   - Timing challenges
   - Pattern recognition
   - Risk-reward choices

4. **Treasure Rooms**
   - Valuable loot
   - Guarded by strong enemies
   - Hidden passages
   - Special rewards

5. **Boss Rooms**
   - Unique layouts
   - Phase transition areas
   - Environmental mechanics
   - Special features

### Generation Rules
1. **Progression**
   - Increasing difficulty
   - Better rewards
   - More complex layouts
   - Stronger enemies

2. **Variation**
   - Random room placement
   - Different enemy combinations
   - Varied environmental hazards
   - Unique loot tables

3. **Balance**
   - Appropriate challenge level
   - Fair reward distribution
   - Manageable enemy groups
   - Accessible secrets

4. **Theme Consistency**
   - Matching visual style
   - Thematic enemies
   - Appropriate hazards
   - Fitting rewards

## Environmental Effects

### Lighting System
1. **Light Sources**
   - Torches
   - Magical lights
   - Environmental lighting
   - Player-carried lights

2. **Shadow Effects**
   - Dynamic shadows
   - Stealth mechanics
   - Hidden passages
   - Enemy detection

3. **Stress Impact**
   - Darkness increases stress
   - Light reduces stress
   - Magical light effects
   - Psychological impact

### Weather System
1. **Weather Types**
   - Rain
   - Fog
   - Storm
   - Magical weather

2. **Effects**
   - Visibility changes
   - Movement impact
   - Combat modifiers
   - Environmental hazards

3. **Dynamic Changes**
   - Weather transitions
   - Time of day
   - Seasonal effects
   - Magical interference

### Vampirism System
1. **Infection Mechanics**
   - Contracted from vampire attacks
   - Transmitted through blood pools
   - Curable with specific items
   - Permanent if not treated quickly

2. **Vampire Traits**
   - Enhanced night vision
   - Regeneration in darkness
   - Damage in sunlight
   - Blood hunger replaces food requirements
   - Increased stress resistance in darkness
   - Increased stress in sunlight

3. **Transformation Stages**
   - Stage 1: Minor symptoms (night vision, slight sunlight sensitivity)
   - Stage 2: Blood hunger begins, increased sunlight vulnerability
   - Stage 3: Full transformation, can transform into bat form
   - Stage 4: Irreversible vampirism

4. **Combat Modifiers**
   - Life steal abilities
   - Bat form movement
   - Sunlight vulnerability
   - Blood pool healing
   - Enhanced strength at night

5. **Settlement Impact**
   - Special vampire quarters needed
   - Blood supply management
   - Night shift assignments
   - Sunlight protection measures

## Loot System

### Common Loot
1. **Resources**
   - Basic materials
   - Crafting components
   - Currency
   - Consumables

2. **Equipment**
   - Weapons
   - Armor
   - Accessories
   - Tools

3. **Consumables**
   - Health potions
   - Buff items
   - Utility items
   - Special effects

### Rare Loot
1. **Unique Items**
   - Legendary weapons
   - Set pieces
   - Special artifacts
   - Boss drops

2. **Special Resources**
   - Rare materials
   - Unique components
   - Magical essence
   - Boss materials

3. **Recipes**
   - Crafting formulas
   - Ability unlocks
   - Special combinations
   - Secret recipes

## Enemy Modifiers

### Common Modifiers
1. **Elemental**
   - Fire
   - Ice
   - Lightning
   - Poison

2. **Status**
   - Cursed
   - Blessed
   - Possessed
   - Enraged

3. **Size**
   - Giant
   - Tiny
   - Normal
   - Variable

### Special Modifiers
1. **Boss Variants**
   - Enhanced abilities
   - New phases
   - Special mechanics
   - Unique drops

2. **Elite Modifiers**
   - Increased stats
   - Special abilities
   - Unique behaviors
   - Better loot

3. **Environmental**
   - Terrain bonuses
   - Weather effects
   - Time of day
   - Special conditions

## Implementation Notes

### Technical Requirements
- Procedural generation system
- Room template system
- Enemy spawning logic
- Loot distribution
- Environmental effect system
- Weather system
- Lighting system

### UI Considerations
- Map system
- Objective markers
- Loot indicators
- Hazard warnings
- Boss health bars
- Environmental effect indicators

### Balance Considerations
- Difficulty progression
- Reward scaling
- Enemy placement
- Resource distribution
- Environmental hazard balance
- Boss encounter design 